<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GRE Vocabulary Flashcards</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: white;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        /* Dashboard Styles */
        .dashboard {
            display: block;
        }

        .deck-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .deck-card {
            background: white;
            border-radius: 15px;
            padding: 30px;
            color: #333;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
        }

        .deck-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .deck-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #2c3e50;
        }

        .deck-progress {
            margin-bottom: 20px;
        }

        .progress-text {
            font-size: 14px;
            color: #7f8c8d;
            margin-bottom: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #ecf0f1;
            border-radius: 6px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #4CAF50;
            border-radius: 6px;
            transition: width 0.3s ease;
        }

        .practice-btn {
            width: 100%;
            padding: 12px;
            background: transparent;
            border: 2px solid #3498db;
            color: #3498db;
            border-radius: 8px;
            font-size: 14px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .practice-btn:hover {
            background: #3498db;
            color: white;
        }

        /* Study Mode Styles */
        .study-mode {
            display: none;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            margin-bottom: 20px;
            font-size: 14px;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .settings {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 20px;
        }

        .settings h3 {
            margin-bottom: 15px;
        }

        .setting-item {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 10px;
        }

        .setting-item label {
            min-width: 200px;
        }

        .setting-item input {
            padding: 5px 10px;
            border: none;
            border-radius: 5px;
            width: 80px;
        }

        .progress-section {
            margin-bottom: 30px;
        }

        .progress-item {
            margin-bottom: 15px;
        }

        .progress-label {
            font-size: 14px;
            margin-bottom: 5px;
            display: flex;
            justify-content: space-between;
        }

        .progress-bar-study {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill-study {
            height: 100%;
            transition: width 0.3s ease;
        }

        .mastered {
            background: #4CAF50;
        }

        .reviewing {
            background: #FF9800;
        }

        .learning {
            background: #F44336;
        }

        .flashcard-container {
            perspective: 1000px;
            margin-bottom: 30px;
        }

        .flashcard {
            background: white;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            color: #333;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: transform 0.3s ease;
            position: relative;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        }

        .flashcard:hover {
            transform: translateY(-5px);
        }

        .word {
            font-size: 2.5em;
            font-weight: bold;
            margin-bottom: 20px;
            color: #2c3e50;
        }

        .meaning {
            font-size: 1.5em;
            color: #7f8c8d;
            font-style: italic;
        }

        .flip-hint {
            position: absolute;
            bottom: 15px;
            right: 15px;
            font-size: 12px;
            color: #bdc3c7;
        }

        .definition-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .definition-btn:hover {
            background: #2980b9;
            transform: scale(1.05);
        }

        .definition-content {
            margin-top: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #3498db;
            text-align: left;
            font-size: 14px;
            line-height: 1.5;
            color: #2c3e50;
            max-height: 200px;
            overflow-y: auto;
        }

        .definition-content h4 {
            margin: 0 0 10px 0;
            color: #2980b9;
            font-size: 16px;
        }

        .definition-loading {
            text-align: center;
            color: #7f8c8d;
            font-style: italic;
        }

        .buttons {
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            min-width: 120px;
        }

        .btn-know {
            background: #4CAF50;
            color: white;
        }

        .btn-know:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .btn-dont-know {
            background: #F44336;
            color: white;
        }

        .btn-dont-know:hover {
            background: #da190b;
            transform: translateY(-2px);
        }

        .no-words {
            text-align: center;
            font-size: 1.5em;
            color: #ecf0f1;
            margin-top: 50px;
        }

        @media (max-width: 768px) {
            .deck-grid {
                grid-template-columns: 1fr;
            }

            .buttons {
                flex-direction: column;
                align-items: center;
            }

            .word {
                font-size: 2em;
            }

            .setting-item {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="header">
            <h1>üìö GRE Vocabulary Flashcards</h1>
        </div>

        <!-- Dashboard View -->
        <div id="dashboard" class="dashboard">
            <div class="deck-grid" id="deckGrid">
                <!-- Deck cards will be generated here -->
            </div>
        </div>

        <!-- Study Mode View -->
        <div id="studyMode" class="study-mode">
            <button class="back-btn" id="backBtn">‚Üê Back to Dashboard</button>

            <div class="settings">
                <h3>Settings</h3>
                <div class="setting-item">
                    <label>Active words in rotation (N):</label>
                    <input type="number" id="maxActiveWords" value="10" min="5" max="20">
                </div>
                <div class="setting-item">
                    <label>Times correct to master:</label>
                    <input type="number" id="masteryThreshold" value="3" min="2" max="5">
                </div>
            </div>
            <div id="flashcardSection">
                <div class="flashcard-container">
                    <div class="flashcard" id="flashcard">
                        <button class="definition-btn" id="definitionBtn">Get Definition</button>
                        <div class="word" id="wordDisplay"></div>
                        <div class="meaning" id="meaningDisplay" style="display: none;"></div>
                        <div id="definitionContent" class="definition-content" style="display: none;"></div>
                        <div class="flip-hint">Click to flip</div>
                    </div>
                </div>

                <div class="buttons">
                    <button class="btn btn-know" id="knowBtn" style="display: none;">‚úì I know this word</button>
                    <button class="btn btn-dont-know" id="dontKnowBtn" style="display: none;">‚úó I don't know this
                        word</button>
                </div>
            </div>

            <div id="noWordsMessage" class="no-words" style="display: none;">
                üéâ Congratulations! You've mastered all words in this list!
            </div>

            <div class="progress-section">
                <div class="progress-item">
                    <div class="progress-label">
                        <span>You have mastered <span id="masteredCount">0</span> out of <span id="totalWords">0</span>
                            words</span>
                    </div>
                    <div class="progress-bar-study">
                        <div class="progress-fill-study mastered" id="masteredProgress"></div>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="progress-label">
                        <span>You are reviewing <span id="reviewingCount">0</span> out of <span
                                id="totalWords2">0</span> words</span>
                    </div>
                    <div class="progress-bar-study">
                        <div class="progress-fill-study reviewing" id="reviewingProgress"></div>
                    </div>
                </div>

                <div class="progress-item">
                    <div class="progress-label">
                        <span>You are learning <span id="learningCount">0</span> out of <span id="totalWords3">0</span>
                            words</span>
                    </div>
                    <div class="progress-bar-study">
                        <div class="progress-fill-study learning" id="learningProgress"></div>
                    </div>
                </div>
            </div>


        </div>
    </div>

    <script>
        // Configuration - Add your word lists here
        const WORD_LISTS = {



            "List 1": [{
                category: 'PREDICTION', meaning: 'PREDICTION', words: ['AUGUR/AUGURY', 'FORECAST', 'FORESIGHT/ FORESEE', 'FORETELL', 'PRESAGE', 'PRESCIENCE', 'PROGNOSIS', 'ANTICIPATES']
            }, {
                category: 'SIGN (WARNING) (-)', meaning: 'SIGN (WARNING) (-)', words: ['FOREBODE', 'FORESHADOW', 'PREMONITION', 'OMINOUS', 'INTIMIDATE']
            }, {
                category: 'CAUSING FEAR', meaning: 'CAUSING FEAR', words: ['INTIMIDATE', 'DAUNTING', 'SINISTER', 'ENRAGE', 'FUME']
            }, {
                category: 'VERY ANGRY', meaning: 'VERY ANGRY', words: ['ENRAGE', 'FUME', 'INCENSE', 'INFURIATE', 'IRATE', 'IRE', 'LIVID', 'WRATH']
            }, {
                category: 'DETAILED KNOWLEDGE/INTELLECTUAL', meaning: 'DETAILED KNOWLEDGE/INTELLECTUAL', words: ['CEREBRAL', 'ERUDITE', 'PUNDIT', 'Enlightenment', 'Refinement']
            }, {
                category: 'SKILLFUL', meaning: 'SKILLFUL', words: ['ADEPT', 'ADROIT', 'CONSUMMATE', 'DEFT', 'DEXTEROUS', 'PROFICIENT', 'PROWESS', 'FINESSE']
            }, {
                category: 'FLEXIBLE', meaning: 'FLEXIBLE', words: ['LITHE', 'SUPPLE', 'AGILE', 'CIRCUITOUS', 'CONVOLUTED']
            }, {
                category: 'HAVING TWISTS/TURNS/COMPLEX', meaning: 'HAVING TWISTS/TURNS/COMPLEX', words: ['CIRCUITOUS', 'CONVOLUTED', 'INTERTWINED', 'INVOLVED', 'MEANDER', 'TORTUOUS', 'Complicated']
            }, {
                category: 'INCLINATION', meaning: 'INCLINATION', words: ['AFFINITY', 'APTITUDE', 'BENT', 'DISPOSED', 'PENCHANT', 'PREDILECTION', 'PREDISPOSITION', 'PROCLIVITY']
            }, {
                category: 'HORRIFYING/SHOCKING', meaning: 'HORRIFYING/SHOCKING', words: ['AGHAST', 'APPALLING', 'EGREGIOUS', 'GHASTLY', 'GROSS', 'GRUESOME', 'HEINOUS', 'HIDEOUS']
            }, {
                category: 'ATTRACTIVE', meaning: 'ATTRACTIVE', words: ['AESTHETIC', 'COMELY', 'DISJOINTED', 'POLARIZE', 'SEGREGATE']
            }, {
                category: 'SEPARATE/ X CONNECTED', meaning: 'SEPARATE/ X CONNECTED', words: ['DISJOINTED', 'POLARIZE', 'SEGREGATE', 'X NEXUS (opposite)', 'PRODIGY']
            }, {
                category: 'VERY TALENTED (CHILD)', meaning: 'VERY TALENTED (CHILD)', words: ['PRODIGY', 'PRECOCIOUS', 'AVERT', 'CIRCUMVENT', 'DEFLECT']
            }, {
                category: 'AVOID/DODGE', meaning: 'AVOID/DODGE', words: ['AVERT', 'CIRCUMVENT', 'DEFLECT', 'ELUDE/ELUSIVE', 'EVADE / EVASIVE', 'SHIRK', 'SKIRT', 'SWERVE']
            }, {
                category: 'AWKWARD/CLUMSY', meaning: 'AWKWARD/CLUMSY', words: ['FUMBLE', 'GAUCHE', 'GAWKY', 'UNGAINLY', 'BUOYANT']
            }, {
                category: 'OPTIMISTIC', meaning: 'OPTIMISTIC', words: ['BUOYANT', 'SANGUINE', 'UPBEAT', 'X PESSIMISTIC (opposite)', 'DILATORY']
            }, {
                category: 'BE SLOW/WASTE TIME', meaning: 'BE SLOW/WASTE TIME', words: ['DILATORY', 'LINGER', 'MALINGER', 'PEDANTIC', 'DIDACTIC']
            }, {
                category: 'INSTRUCTIVE (-)', meaning: 'INSTRUCTIVE (-)', words: ['PEDANTIC', 'DIDACTIC', 'OBSEQUIOUS', 'SYCOPHANT', 'SELF-FLATTERY']
            }, {
                category: 'EXCESSIVE FLATTERY (-)', meaning: 'EXCESSIVE FLATTERY (-)', words: ['OBSEQUIOUS', 'SYCOPHANT', 'SELF-FLATTERY', 'ADULATION', 'FUTILE']
            }, {
                category: 'INEFFECTIVE', meaning: 'INEFFECTIVE', words: ['FUTILE', 'INEFFECTUAL', 'X EFFICACY (opposite)', '*FECKLESS (irresponsible)', 'DIFFUSE']
            }, {
                category: 'SPREAD', meaning: 'SPREAD', words: ['DIFFUSE', 'DISSEMINATE', 'PROMULGATE', 'PROPAGATE', 'Physiological']
            }, {
                category: 'BODILY', meaning: 'BODILY', words: ['Physiological', 'Corporeal', 'Anatomical']
            }],
            "Common Words II": [
                {
                    category: "INTELLIGENCE",
                    meaning: "INTELLIGENCE",
                    words: ["PERSPICACIOUS", "SAGACIOUS", "ASTUTE", "SHREWD", "DISCERNING", "KEEN", "SHARP"]
                },
                {
                    category: "STUBBORNNESS",
                    meaning: "STUBBORNNESS",
                    words: ["OBSTINATE", "INTRANSIGENT", "RECALCITRANT", "REFRACTORY", "CONTUMACIOUS"]
                }
            ],
            "Common Words III": [
                {
                    category: "PRAISE",
                    meaning: "PRAISE",
                    words: ["LAUDATORY", "PANEGYRIC", "ENCOMIUM", "PLAUDIT", "ACCOLADE", "COMMENDATION"]
                },
                {
                    category: "CRITICISM",
                    meaning: "CRITICISM",
                    words: ["CASTIGATE", "EXCORIATE", "LAMBASTE", "CENSURE", "REPROACH", "REBUKE"]
                }
            ]
        };

        class FlashcardApp {
            constructor() {
                this.currentList = null;
                this.words = {};
                this.activeWords = [];
                this.currentWord = null;
                this.showingMeaning = false;
                this.maxActiveWords = 10;
                this.masteryThreshold = 3;
                this.listProgress = {};

                this.initializeElements();
                this.setupEventListeners();
                this.initializeListProgress();
                this.renderDashboard();
            }

            initializeElements() {
                this.dashboard = document.getElementById('dashboard');
                this.studyMode = document.getElementById('studyMode');
                this.deckGrid = document.getElementById('deckGrid');
                this.backBtn = document.getElementById('backBtn');
                this.flashcardSection = document.getElementById('flashcardSection');
                this.flashcard = document.getElementById('flashcard');
                this.wordDisplay = document.getElementById('wordDisplay');
                this.meaningDisplay = document.getElementById('meaningDisplay');
                this.definitionBtn = document.getElementById('definitionBtn');
                this.definitionContent = document.getElementById('definitionContent');
                this.knowBtn = document.getElementById('knowBtn');
                this.dontKnowBtn = document.getElementById('dontKnowBtn');
                this.noWordsMessage = document.getElementById('noWordsMessage');
                this.maxActiveWordsInput = document.getElementById('maxActiveWords');
                this.masteryThresholdInput = document.getElementById('masteryThreshold');

                // Progress elements
                this.masteredCount = document.getElementById('masteredCount');
                this.reviewingCount = document.getElementById('reviewingCount');
                this.learningCount = document.getElementById('learningCount');
                this.totalWords = document.getElementById('totalWords');
                this.totalWords2 = document.getElementById('totalWords2');
                this.totalWords3 = document.getElementById('totalWords3');
                this.masteredProgress = document.getElementById('masteredProgress');
                this.reviewingProgress = document.getElementById('reviewingProgress');
                this.learningProgress = document.getElementById('learningProgress');
            }

            setupEventListeners() {
                this.backBtn.addEventListener('click', () => this.showDashboard());
                this.flashcard.addEventListener('click', (e) => {
                    // Don't flip card if clicking the definition button
                    if (e.target !== this.definitionBtn) {
                        this.flipCard();
                    }
                });
                this.definitionBtn.addEventListener('click', (e) => {
                    e.stopPropagation();
                    this.getDefinition();
                });
                this.knowBtn.addEventListener('click', () => this.handleAnswer(true));
                this.dontKnowBtn.addEventListener('click', () => this.handleAnswer(false));
                this.maxActiveWordsInput.addEventListener('change', (e) => {
                    this.maxActiveWords = parseInt(e.target.value);
                });
                this.masteryThresholdInput.addEventListener('change', (e) => {
                    this.masteryThreshold = parseInt(e.target.value);
                });
            }

            initializeListProgress() {
                Object.keys(WORD_LISTS).forEach(listName => {
                    if (!this.listProgress[listName]) {
                        this.listProgress[listName] = {};
                        const categories = WORD_LISTS[listName];

                        categories.forEach(category => {
                            category.words.forEach(word => {
                                this.listProgress[listName][word] = {
                                    word: word,
                                    meaning: category.meaning,
                                    correctCount: 0,
                                    state: 'learning'
                                };
                            });
                        });
                    }
                });
            }

            renderDashboard() {
                this.deckGrid.innerHTML = '';

                Object.keys(WORD_LISTS).forEach(listName => {
                    const words = this.listProgress[listName];
                    const totalWords = Object.keys(words).length;
                    const masteredWords = Object.values(words).filter(w => w.state === 'mastered').length;
                    const progressPercent = totalWords > 0 ? (masteredWords / totalWords) * 100 : 0;

                    const deckCard = document.createElement('div');
                    deckCard.className = 'deck-card';
                    deckCard.innerHTML = `
                        <div class="deck-title">${listName}</div>
                        <div class="deck-progress">
                            <div class="progress-text">${masteredWords} of ${totalWords} words mastered</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${progressPercent}%"></div>
                            </div>
                        </div>
                        <button class="practice-btn">Practice this deck ‚Üí</button>
                    `;

                    deckCard.addEventListener('click', () => this.startStudying(listName));
                    this.deckGrid.appendChild(deckCard);
                });
            }

            showDashboard() {
                this.dashboard.style.display = 'block';
                this.studyMode.style.display = 'none';
                this.renderDashboard(); // Update progress
            }

            startStudying(listName) {
                this.currentList = listName;
                this.words = { ...this.listProgress[listName] };
                this.dashboard.style.display = 'none';
                this.studyMode.style.display = 'block';

                this.updateActiveWords();
                this.updateProgress();
                this.showNextWord();
            }

            updateActiveWords() {
                const learningWords = Object.values(this.words).filter(w => w.state === 'learning');
                const reviewingWords = Object.values(this.words).filter(w => w.state === 'reviewing');
                const masteredWords = Object.values(this.words).filter(w => w.state === 'mastered');

                this.activeWords = [...reviewingWords];

                const remainingSlots = this.maxActiveWords - this.activeWords.length;
                const wordsToAdd = Math.min(remainingSlots, learningWords.length);
                this.activeWords.push(...learningWords.slice(0, wordsToAdd));

                if (this.activeWords.length < this.maxActiveWords && learningWords.length === 0) {
                    const masteredToAdd = this.maxActiveWords - this.activeWords.length;
                    this.activeWords.push(...this.shuffleArray(masteredWords).slice(0, masteredToAdd));
                }
            }

            showNextWord() {
                if (this.activeWords.length === 0) {
                    this.flashcardSection.style.display = 'none';
                    this.noWordsMessage.style.display = 'block';
                    return;
                }

                this.flashcardSection.style.display = 'block';
                this.noWordsMessage.style.display = 'none';

                let nextWord;
                if (this.activeWords.length === 1) {
                    nextWord = this.activeWords[0];
                } else {
                    do {
                        nextWord = this.activeWords[Math.floor(Math.random() * this.activeWords.length)];
                    } while (nextWord === this.currentWord && this.activeWords.length > 1);
                }

                this.currentWord = nextWord;
                this.showingMeaning = false;

                this.wordDisplay.textContent = this.currentWord.word;
                this.meaningDisplay.style.display = 'none';
                this.definitionContent.style.display = 'none';
                this.wordDisplay.style.display = 'block';
                this.knowBtn.style.display = 'none';
                this.dontKnowBtn.style.display = 'none';
            }

            flipCard() {
                if (!this.showingMeaning) {
                    this.showingMeaning = true;
                    this.wordDisplay.style.display = 'none';
                    this.meaningDisplay.style.display = 'block';
                    this.meaningDisplay.textContent = this.currentWord.meaning;
                    this.knowBtn.style.display = 'inline-block';
                    this.dontKnowBtn.style.display = 'inline-block';
                }
            }

            handleAnswer(correct) {
                if (!this.currentWord) return;

                if (correct) {
                    this.currentWord.correctCount++;

                    if (this.currentWord.state === 'learning') {
                        this.currentWord.state = 'reviewing';
                    } else if (this.currentWord.state === 'reviewing' && this.currentWord.correctCount >= this.masteryThreshold) {
                        this.currentWord.state = 'mastered';
                    } else if (this.currentWord.state === 'mastered' && this.currentWord.correctCount >= this.masteryThreshold) {
                        this.currentWord.correctCount = this.masteryThreshold;
                    }
                } else {
                    this.currentWord.correctCount = 0;
                    if (this.currentWord.state === 'mastered') {
                        this.currentWord.state = 'reviewing';
                    } else if (this.currentWord.state === 'reviewing') {
                        this.currentWord.state = 'learning';
                    }
                }

                // Update the master progress
                this.listProgress[this.currentList][this.currentWord.word] = { ...this.currentWord };

                this.updateActiveWords();
                this.updateProgress();
                this.showNextWord();
            }

            updateProgress() {
                const totalWords = Object.keys(this.words).length;
                const masteredWords = Object.values(this.words).filter(w => w.state === 'mastered').length;
                const reviewingWords = Object.values(this.words).filter(w => w.state === 'reviewing').length;
                const learningWords = Object.values(this.words).filter(w => w.state === 'learning').length;

                this.masteredCount.textContent = masteredWords;
                this.reviewingCount.textContent = reviewingWords;
                this.learningCount.textContent = learningWords;
                this.totalWords.textContent = totalWords;
                this.totalWords2.textContent = totalWords;
                this.totalWords3.textContent = totalWords;

                this.masteredProgress.style.width = `${(masteredWords / totalWords) * 100}%`;
                this.reviewingProgress.style.width = `${(reviewingWords / totalWords) * 100}%`;
                this.learningProgress.style.width = `${(learningWords / totalWords) * 100}%`;
            }

            shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            async getDefinition() {
                if (!this.currentWord) return;

                const word = this.currentWord.word.toLowerCase();
                this.definitionContent.style.display = 'block';
                this.definitionContent.innerHTML = '<div class="definition-loading">Loading definition...</div>';

                try {
                    // Using the Free Dictionary API
                    const response = await fetch(`https://api.dictionaryapi.dev/api/v2/entries/en/${word}`);

                    if (!response.ok) {
                        throw new Error('Definition not found');
                    }

                    const data = await response.json();
                    const entry = data[0];

                    let definitionHtml = `<h4>${entry.word}</h4>`;

                    if (entry.phonetics && entry.phonetics[0] && entry.phonetics[0].text) {
                        definitionHtml += `<p><strong>Pronunciation:</strong> ${entry.phonetics[0].text}</p>`;
                    }

                    entry.meanings.forEach((meaning, index) => {
                        if (index < 2) { // Limit to first 2 meanings to avoid overflow
                            definitionHtml += `<p><strong>${meaning.partOfSpeech}:</strong> ${meaning.definitions[0].definition}</p>`;

                            if (meaning.definitions[0].example) {
                                definitionHtml += `<p><em>Example: "${meaning.definitions[0].example}"</em></p>`;
                            }
                        }
                    });

                    this.definitionContent.innerHTML = definitionHtml;

                } catch (error) {
                    // Fallback to a simpler definition or error message
                    this.definitionContent.innerHTML = `
                        <h4>${this.currentWord.word}</h4>
                        <p>Unable to fetch definition from dictionary API.</p>
                        <p><strong>Flashcard meaning:</strong> ${this.currentWord.meaning}</p>
                        <p><em>Try searching "${this.currentWord.word}" online for more detailed definitions.</em></p>
                    `;
                }
            }
        }

        // Initialize the app
        const app = new FlashcardApp();
    </script>
</body>

</html>